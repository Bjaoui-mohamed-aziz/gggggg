<ng-template #content let-modal>
  <div class="modal-header">
    <h4 class="modal-title" id="modal-basic-title">
      Ajouter un nouveau Rendez-vous
    </h4>
    <button class="bbtn" style="position: absolute; width: 60px; right: 0; top: 0; margin: 10px;"
      (click)="modal.dismiss('Cross click')">X</button>
  </div>
  <div class="modal-body">
    <form #rdvForm="ngForm">
      <!-- Added a template reference variable for form validation -->
      <div class="row">
        <label class="col-md-6" for="patient_id">
          Patient:
          <select id="patient_id" name="patient_id" class="form-control" [(ngModel)]="newRdv.patient_id" required>
            <option *ngFor="let patient of patients" [value]="patient.id">
              {{ patient.nom}} {{ patient.prenom }}
            </option>
          </select>
        </label>
        <label class="col-md-6" for="daterdv">
          Date (dd-MM-yyyy):
          <input type="date" id="daterdv" name="daterdv" class="form-control" [(ngModel)]="newRdv.daterdv"
            placeholder="selectionner une date" required />
        </label>
      </div>

      <div class="row mt-2">
        <label class="col-md-6" for="heurerdv">
          Heure (HH:mm):
          <input type="time" name="heurerdv" id="heurerdv" class="form-control" [(ngModel)]="newRdv.heurerdv"
            placeholder="selectionner une heure" required />
        </label>
        <label class="col-md-6" for="note">
          Note
          <input type="text" id="note" name="note" class="form-control" [(ngModel)]="newRdv.note"
            placeholder="laisser une note" required />
        </label>
      </div>
    </form>
  </div>
  <div class="btns">
    <button type="button" class="fix btn btn-outline-secondary" (click)="modal.dismiss('Cancel click')">
      Annuler
    </button>
    <button type="button" class="btn btn-primary" [disabled]="!rdvForm.valid"
      (click)="saveRdv(); modal.close('Save click')">
      Sauvegarder
    </button>
</div>
</ng-template>

<button class="btn btn-sm btn-success bttn" (click)="open(content)">
  Nouveau Rendez-vous
</button>

<pre>{{ closeResult }}</pre>